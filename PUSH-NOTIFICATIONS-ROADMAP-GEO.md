# Push рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃЊрЃљрЃюрЃћрЃарЃњрЃЋрЃўрЃА рЃњрЃћрЃњрЃЏрЃљ
## WorkChat PWA - рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃњрЃћрЃњрЃЏрЃљ

---

## рЃЏрЃЮрЃЎрЃџрЃћ рЃерЃћрЃ»рЃљрЃЏрЃћрЃЉрЃљ

**рЃЏрЃўрЃќрЃљрЃюрЃў**: рЃЊрЃљрЃЋрЃюрЃћрЃарЃњрЃЮрЃЌ рЃАрЃарЃБрЃџрЃў push notification рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃА рЃљрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃА рЃљрЃ«рЃљрЃџрЃў рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ.

**рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљ**:
- РюЁ рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ рЃЏрЃќрЃљрЃЊрЃљрЃљ
- РюЁ Service Worker рЃЊрЃљ Push рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў рЃЏрЃќрЃљрЃЊрЃљрЃљ
- РюЁ Supabase Edge Function рЃЏрЃќрЃљрЃЊрЃљрЃљ
- РЈ│ **рЃљрЃЎрЃџрЃўрЃљ**: рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃљ рЃЏрЃћрЃАрЃўрЃ»рЃўрЃюрЃњ рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃАрЃЌрЃљрЃю, UI рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃћрЃЉрЃў, рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃбрЃарЃўрЃњрЃћрЃарЃћрЃЉрЃў

**рЃЊрЃарЃЮ**: 3-5 рЃЊрЃдрЃћ (рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃўрЃЌ)

---

## iOS-рЃўрЃА рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃерЃћрЃќрЃдрЃБрЃЊрЃЋрЃћрЃЉрЃў

### iOS-рЃќрЃћ Push Notification-рЃўрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃћрЃЉрЃў:

1. **iOS 16.4 рЃљрЃю рЃБрЃцрЃарЃЮ рЃљрЃ«рЃљрЃџрЃў** - рЃФрЃЋрЃћрЃџ рЃЋрЃћрЃарЃАрЃўрЃћрЃЉрЃќрЃћ рЃљрЃа рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА
2. **рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљ рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃБрЃџрЃў** - Add to Home Screen-рЃўрЃЌ
3. **User Gesture** - рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃљ рЃБрЃюрЃЊрЃљ рЃЏрЃЮрЃўрЃЌрЃ«рЃЮрЃЋрЃЮрЃА рЃдрЃўрЃџрЃљрЃЎрЃќрЃћ рЃЊрЃљрЃГрЃћрЃарЃўрЃЌ
4. **HTTPS** - рЃАрЃљрЃГрЃўрЃарЃЮрЃљ рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮ рЃЎрЃљрЃЋрЃерЃўрЃарЃў
5. **рЃерЃћрЃќрЃдрЃБрЃЊрЃБрЃџрЃў Background рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў**

### Android-рЃќрЃћ:
- РюЁ рЃАрЃарЃБрЃџрЃљрЃЊ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА Chrome/Edge-рЃерЃў
- РюЁ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃарЃЮрЃњрЃЮрЃарЃф browser-рЃерЃў, рЃўрЃАрЃћ рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃБрЃџ PWA-рЃерЃў
- РюЁ рЃБрЃЎрЃћрЃЌрЃћрЃАрЃў background support

---

## рЃцрЃљрЃќрЃљ 1: рЃАрЃљрЃцрЃБрЃФрЃЋрЃћрЃџрЃў (0.5 рЃЊрЃдрЃћ)

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 1.1: VAPID Key-рЃћрЃЉрЃўрЃА рЃњрЃћрЃюрЃћрЃарЃљрЃфрЃўрЃљ
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­Ъћ┤ рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃў
**рЃЊрЃарЃЮ**: 30 рЃгрЃБрЃЌрЃў

**рЃарЃљ рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЎрЃћрЃЌрЃЊрЃћрЃА**:
```bash
# 1. рЃЊрЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃћ key-рЃћрЃЉрЃў
npx web-push generate-vapid-keys

# 2. рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ .env рЃцрЃљрЃўрЃџрЃерЃў
VITE_VAPID_PUBLIC_KEY="<public-key>"

# 3. рЃЊрЃљрЃљрЃДрЃћрЃюрЃћ Supabase secrets
supabase secrets set VAPID_PUBLIC_KEY="<public-key>"
supabase secrets set VAPID_PRIVATE_KEY="<private-key>"
supabase secrets set SUPABASE_URL="<url>"
supabase secrets set SUPABASE_SERVICE_ROLE_KEY="<key>"

# 4. Deploy рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ
supabase functions deploy send-web-push
```

**рЃњрЃљрЃАрЃљрЃбрЃћрЃАрЃбрЃў**:
- Key-рЃћрЃЉрЃў рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ
- Environment variables рЃЊрЃљрЃДрЃћрЃюрЃћрЃЉрЃБрЃџрЃўрЃљ
- Edge Function deploy рЃњрЃљрЃЎрЃћрЃЌрЃћрЃЉрЃБрЃџрЃўрЃљ
- Test curl request рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА

---

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 1.2: PWA рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­ЪЪА рЃЏрЃљрЃдрЃљрЃџрЃў
**рЃЊрЃарЃЮ**: 1 рЃАрЃљрЃљрЃЌрЃў

**рЃарЃљ рЃБрЃюрЃЊрЃљ рЃерЃћрЃЏрЃЮрЃгрЃЏрЃЊрЃћрЃА**:
1. `manifest.webmanifest` рЃАрЃгрЃЮрЃарЃљрЃЊ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ
2. Service Worker рЃарЃћрЃњрЃўрЃАрЃбрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ
3. PWA рЃўрЃюрЃАрЃбрЃљрЃџрЃЊрЃћрЃЉрЃљ iOS-рЃќрЃћ (Safari > Add to Home Screen)
4. PWA рЃўрЃюрЃАрЃбрЃљрЃџрЃЊрЃћрЃЉрЃљ Android-рЃќрЃћ
5. Notification Icons рЃЏрЃќрЃљрЃЊрЃљрЃљ (192x192, 512x512 PNG)

**рЃцрЃљрЃўрЃџрЃћрЃЉрЃў**:
- `/public/manifest.webmanifest`
- `/public/sw.js`
- `/index.html`

---

## рЃцрЃљрЃќрЃљ 2: UI рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃћрЃЉрЃў (1 рЃЊрЃдрЃћ)

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 2.1: рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­ЪЪА рЃЏрЃљрЃдрЃљрЃџрЃў
**рЃЊрЃарЃЮ**: 3 рЃАрЃљрЃљрЃЌрЃў

**рЃљрЃ«рЃљрЃџрЃў рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃў**: `src/components/notifications/NotificationSettings.tsx`

**рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў**:
- рЃдрЃўрЃџрЃљрЃЎрЃў: "рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ" / "рЃњрЃљрЃЏрЃЮрЃарЃЌрЃЋрЃљ"
- рЃАрЃбрЃљрЃбрЃБрЃАрЃўрЃА рЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃЮрЃарЃў (рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃљ рЃЏрЃўрЃюрЃўрЃГрЃћрЃЉрЃБрЃџрЃўрЃљ/рЃБрЃљрЃарЃДрЃЮрЃцрЃўрЃџрЃўрЃљ)
- iOS-рЃўрЃА рЃњрЃљрЃцрЃарЃЌрЃ«рЃўрЃџрЃћрЃЉрЃљ (рЃЌрЃБ PWA рЃљрЃа рЃљрЃарЃўрЃА рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃБрЃџрЃў)
- Success/Error рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ

**рЃАрЃљрЃЊ рЃЊрЃљрЃћрЃЏрЃљрЃбрЃЮрЃА**:
- User profile settings-рЃерЃў
- Chat header-рЃерЃў (рЃАрЃгрЃарЃљрЃцрЃў toggle)
- First login-рЃќрЃћ (optional onboarding)

**рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃбрЃћрЃЦрЃАрЃбрЃћрЃЉрЃў**:
```typescript
{
  enable: "рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ",
  disable: "рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃњрЃљрЃЏрЃЮрЃарЃЌрЃЋрЃљ",
  status: {
    granted: "рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ",
    denied: "рЃБрЃљрЃарЃДрЃЮрЃцрЃўрЃџрЃўрЃљ",
    default: "рЃЏрЃЮрЃўрЃЌрЃ«рЃЮрЃЋрЃћрЃЌ рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃљ"
  },
  iosWarning: "iOS-рЃќрЃћ рЃАрЃљрЃГрЃўрЃарЃЮрЃљ рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃўрЃА рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃљ (Add to Home Screen)",
  success: "рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌ рЃЕрЃљрЃўрЃарЃЌрЃЮ",
  error: "рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ рЃЋрЃћрЃа рЃЏрЃЮрЃ«рЃћрЃарЃ«рЃЊрЃљ"
}
```

---

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 2.2: рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃўрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃўрЃА Dialog
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­ЪЪб рЃАрЃљрЃерЃБрЃљрЃџрЃЮ
**рЃЊрЃарЃЮ**: 2 рЃАрЃљрЃљрЃЌрЃў

**рЃарЃЮрЃЊрЃўрЃА рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃћрЃА**:
- рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃЏрЃљ рЃњрЃљрЃљрЃњрЃќрЃљрЃЋрЃюрЃљ 2-3 рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ, рЃљрЃю
- рЃњрЃљрЃўрЃљрЃарЃљ 5 рЃгрЃБрЃЌрЃў рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃЊрЃљрЃю

**рЃљрЃа рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃћрЃА**:
- рЃЌрЃБ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃЏрЃљ рЃЊрЃљрЃљрЃГрЃўрЃарЃљ "рЃљрЃарЃљрЃАрЃЊрЃарЃЮрЃА рЃЎрЃўрЃЌрЃ«рЃЮ"
- рЃЌрЃБ рЃБрЃЎрЃЋрЃћ рЃЏрЃўрЃюрЃўрЃГрЃћрЃЉрЃБрЃџрЃў рЃљрЃЦрЃЋрЃА рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃљ

**рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃбрЃћрЃЦрЃАрЃбрЃў**:
```
рЃАрЃљрЃЌрЃљрЃБрЃарЃў: "рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ"
рЃбрЃћрЃЦрЃАрЃбрЃў: "рЃЏрЃўрЃўрЃдрЃћрЃЌ рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў рЃљрЃ«рЃљрЃџ рЃЏрЃћрЃАрЃўрЃ»рЃћрЃЉрЃќрЃћ рЃЏрЃљрЃерЃўрЃюрЃљрЃф рЃЎрЃў, рЃарЃЮрЃфрЃљ рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљ рЃљрЃа рЃљрЃарЃўрЃА рЃњрЃљрЃ«рЃАрЃюрЃўрЃџрЃў."
рЃдрЃўрЃџрЃљрЃЎрЃћрЃЉрЃў: "рЃЕрЃљрЃарЃЌрЃЋрЃљ" / "рЃљрЃарЃљ, рЃњрЃЏрЃљрЃЊрЃџрЃЮрЃЉрЃЌ"
```

---

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 2.3: Notification Icon Header-рЃерЃў
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­Ъћх рЃЊрЃљрЃЉрЃљрЃџрЃў
**рЃЊрЃарЃЮ**: 1 рЃАрЃљрЃљрЃЌрЃў

**рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў**:
- рЃќрЃљрЃарЃўрЃА рЃўрЃЎрЃЮрЃюрЃў header-рЃерЃў
- рЃЋрЃўрЃќрЃБрЃљрЃџрЃБрЃарЃў рЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃЮрЃарЃў (рЃЕрЃљрЃарЃЌрЃБрЃџрЃў/рЃњрЃљрЃЏрЃЮрЃарЃЌрЃБрЃџрЃў)
- Click-рЃќрЃћ рЃњрЃљрЃ«рЃАрЃюрЃўрЃА notification settings

---

## рЃцрЃљрЃќрЃљ 3: рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃљ рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃЌрЃљрЃю (1.5 рЃЊрЃдрЃћ)

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 3.1: Database Function - Chat Members Lookup
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­Ъћ┤ рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃў
**рЃЊрЃарЃЮ**: 2 рЃАрЃљрЃљрЃЌрЃў

**рЃљрЃ«рЃљрЃџрЃў SQL рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ**:
```sql
CREATE OR REPLACE FUNCTION get_chat_members_for_notification(
  _chat_id UUID,
  _sender_id UUID,
  _is_staff_only BOOLEAN
)
RETURNS TABLE (user_id UUID)
```

**рЃарЃљрЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА**:
1. рЃћрЃФрЃћрЃЉрЃА chat-рЃўрЃА рЃДрЃЋрЃћрЃџрЃљ рЃгрЃћрЃЋрЃарЃА
2. рЃњрЃљрЃЏрЃЮрЃарЃўрЃфрЃ«рЃљрЃЋрЃА message-рЃўрЃА рЃњрЃљрЃЏрЃњрЃќрЃљрЃЋрЃюрЃА
3. рЃЌрЃБ staff-only message-рЃљ, рЃбрЃЮрЃЋрЃћрЃЉрЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ staff рЃгрЃћрЃЋрЃарЃћрЃЉрЃА
4. рЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃА user_id-рЃћрЃЉрЃўрЃА рЃАрЃўрЃљрЃА

**рЃцрЃљрЃўрЃџрЃў**: `supabase/migrations/YYYYMMDDHHMMSS_notification_helpers.sql`

---

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 3.2: Database Webhook Configuration
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­Ъћ┤ рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃў
**рЃЊрЃарЃЮ**: 1 рЃАрЃљрЃљрЃЌрЃў

**рЃарЃљ рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЎрЃћрЃЌрЃЊрЃћрЃА**:
1. Supabase Dashboard-рЃерЃў рЃњрЃљрЃ«рЃАрЃюрЃљ Database Webhooks
2. рЃљрЃ«рЃљрЃџрЃў Webhook-рЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ:
   - **Table**: `messages`
   - **Events**: `INSERT`
   - **URL**: `https://<project>.supabase.co/functions/v1/notify-new-message`
   - **Method**: POST

**рЃљрЃџрЃбрЃћрЃарЃюрЃљрЃбрЃўрЃЋрЃљ**: Database Trigger (рЃБрЃцрЃарЃЮ рЃАрЃгрЃарЃљрЃцрЃў, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃарЃЌрЃБрЃџрЃў)

---

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 3.3: Edge Function - notify-new-message
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­Ъћ┤ рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃў
**рЃЊрЃарЃЮ**: 4 рЃАрЃљрЃљрЃЌрЃў

**рЃљрЃ«рЃљрЃџрЃў рЃцрЃљрЃўрЃџрЃў**: `supabase/functions/notify-new-message/index.ts`

**рЃарЃљрЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА**:
1. рЃўрЃдрЃћрЃЉрЃА message metadata-рЃА webhook-рЃўрЃЊрЃљрЃю
2. рЃўрЃФрЃљрЃ«рЃћрЃЉрЃА `get_chat_members_for_notification()` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃА
3. рЃДрЃЋрЃћрЃџрЃљ recipient-рЃўрЃАрЃЌрЃЋрЃўрЃА рЃўрЃФрЃљрЃ«рЃћрЃЉрЃА `send-web-push`
4. рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА error handling-рЃА

**Notification Format**:
- **Regular**: "TBC Bank - рЃњрЃўрЃЮрЃарЃњрЃў: рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ..."
- **Staff-Only**: "TBC Bank (Staff) - рЃюрЃўрЃюрЃЮ: рЃерЃўрЃЊрЃљ рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃљ..."
- **With Attachment**: "рЃЏрЃљрЃарЃўрЃљрЃЏ: ­ЪЊј File: document.pdf"

**Deploy**:
```bash
supabase functions deploy notify-new-message
```

---

## рЃцрЃљрЃќрЃљ 4: рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ (1 рЃЊрЃдрЃћ)

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 4.1: iOS-рЃўрЃА рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­Ъћ┤ рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃў
**рЃЊрЃарЃЮ**: 3 рЃАрЃљрЃљрЃЌрЃў

**рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃўрЃА рЃАрЃфрЃћрЃюрЃљрЃарЃћрЃЉрЃў**:

1. **рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃљ**:
   - [ ] PWA рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃЊрЃљ Safari-рЃЊрЃљрЃю (Add to Home Screen)
   - [ ] App рЃўрЃ«рЃАрЃюрЃћрЃЉрЃљ standalone mode-рЃерЃў
   - [ ] Icons рЃЊрЃљ manifest рЃАрЃгрЃЮрЃарЃўрЃљ

2. **рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃљ**:
   - [ ] Permission dialog рЃЕрЃюрЃЊрЃћрЃЉрЃљ
   - [ ] "Allow" рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА
   - [ ] "Don't Allow" рЃАрЃгрЃЮрЃарЃљрЃЊ рЃЏрЃБрЃерЃљрЃЋрЃЊрЃћрЃЉрЃљ

3. **Subscription**:
   - [ ] рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃўрЃА рЃЏрЃўрЃдрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ subscription рЃўрЃЦрЃЏрЃюрЃћрЃЉрЃљ
   - [ ] рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃљрЃерЃў рЃўрЃюрЃљрЃ«рЃћрЃЉрЃљ subscription
   - [ ] Keys рЃАрЃгрЃЮрЃарЃўрЃљ

4. **Notification Delivery**:
   - [ ] рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃЕрЃюрЃЊрЃћрЃЉрЃљ lock screen-рЃќрЃћ
   - [ ] рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃЕрЃюрЃЊрЃћрЃЉрЃљ notification center-рЃерЃў
   - [ ] рЃбрЃћрЃАрЃбрЃў рЃАрЃљрЃЏрЃўрЃЋрЃћ рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљрЃерЃў:
     - рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљ рЃЊрЃљрЃ«рЃБрЃарЃБрЃџрЃўрЃљ
     - Background-рЃерЃў
     - Foreground-рЃерЃў

5. **Click Handling**:
   - [ ] рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљрЃќрЃћ рЃЊрЃљрЃГрЃћрЃарЃљ рЃ«рЃАрЃюрЃўрЃА рЃАрЃгрЃЮрЃа chat-рЃА
   - [ ] Deep link рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА

6. **Staff-Only**:
   - [ ] Staff message-рЃА рЃўрЃдрЃћрЃЉрЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ staff
   - [ ] Client-рЃћрЃЉрЃў рЃљрЃа рЃўрЃдрЃћрЃЉрЃћрЃю staff message-рЃА

---

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 4.2: Android-рЃўрЃА рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­ЪЪА рЃЏрЃљрЃдрЃљрЃџрЃў
**рЃЊрЃарЃЮ**: 2 рЃАрЃљрЃљрЃЌрЃў

**рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃўрЃА рЃАрЃфрЃћрЃюрЃљрЃарЃћрЃЉрЃў**:
1. [ ] рЃбрЃћрЃАрЃбрЃў Chrome browser-рЃерЃў (рЃљрЃарЃљрЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃБрЃџрЃў)
2. [ ] рЃбрЃћрЃАрЃбрЃў рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃБрЃџ PWA-рЃерЃў
3. [ ] Notification delivery рЃДрЃЋрЃћрЃџрЃљ state-рЃерЃў
4. [ ] Deep linking
5. [ ] Multiple devices (рЃћрЃарЃЌрЃў user - 2 рЃЏрЃЮрЃгрЃДрЃЮрЃЉрЃўрЃџрЃЮрЃЉрЃљ)

---

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 4.3: Edge Cases
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­ЪЪб рЃАрЃљрЃерЃБрЃљрЃџрЃЮ
**рЃЊрЃарЃЮ**: 2 рЃАрЃљрЃљрЃЌрЃў

**рЃарЃљ рЃБрЃюрЃЊрЃљ рЃерЃћрЃЏрЃЮрЃгрЃЏрЃЊрЃћрЃА**:
- [ ] Multiple devices: рЃћрЃарЃЌ user-рЃА рЃЮрЃарЃўрЃЋрЃћ device-рЃќрЃћ рЃЏрЃЮрЃЊрЃўрЃА
- [ ] Expired subscription: рЃўрЃерЃџрЃћрЃЉрЃљ database-рЃЊрЃљрЃю
- [ ] No subscriptions: fail gracefully
- [ ] рЃЊрЃўрЃЊрЃў рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ: truncate рЃ«рЃЊрЃћрЃЉрЃљ 100 рЃАрЃўрЃЏрЃЉрЃЮрЃџрЃЮрЃќрЃћ
- [ ] Attachment-рЃўрЃљрЃюрЃў message: ­ЪЊј рЃўрЃЎрЃЮрЃюрЃљ рЃЕрЃюрЃЊрЃћрЃЉрЃљ
- [ ] Rapid-fire messages: 10 message 5 рЃгрЃљрЃЏрЃерЃў
- [ ] User рЃарЃЮрЃџрЃўрЃА рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ: staff рЃњрЃљрЃ«рЃЊрЃљ client

---

## рЃцрЃљрЃќрЃљ 5: рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў Features (Optional)

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 5.1: Chat-рЃўрЃА Mute
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­Ъћх рЃЊрЃљрЃЉрЃљрЃџрЃў
**рЃЊрЃарЃЮ**: 2 рЃАрЃљрЃљрЃЌрЃў

**рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў**:
- "Mute" рЃдрЃўрЃџрЃљрЃЎрЃў chat header-рЃерЃў
- рЃЋрЃљрЃарЃўрЃљрЃюрЃбрЃћрЃЉрЃў: 1 рЃАрЃљрЃљрЃЌрЃў, 8 рЃАрЃљрЃљрЃЌрЃў, 24 рЃАрЃљрЃљрЃЌрЃў, рЃАрЃљрЃюрЃљрЃЏ рЃљрЃа рЃњрЃљрЃЏрЃЮрЃЋрЃарЃЌрЃљрЃЋ
- Muted chat-рЃћрЃЉрЃќрЃћ рЃљрЃа рЃЏрЃЮрЃЊрЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ

---

### рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ 5.2: Notification Preferences
**рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў**: ­Ъћх рЃЊрЃљрЃЉрЃљрЃџрЃў
**рЃЊрЃарЃЮ**: 2 рЃАрЃљрЃљрЃЌрЃў

**рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў**:
- Global settings: рЃДрЃЋрЃћрЃџрЃљ рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ / рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ mentions
- Per-chat settings: mute/unmute
- Do Not Disturb hours

---

## рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃћрЃЉрЃБрЃџрЃў рЃњрЃљрЃюрЃ«рЃЮрЃарЃфрЃўрЃћрЃџрЃћрЃЉрЃўрЃА рЃњрЃћрЃњрЃЏрЃљ

### MVP рЃњрЃћрЃњрЃЏрЃљ (3 рЃЊрЃдрЃћ):

**рЃЊрЃдрЃћ 1**:
- РюЁ рЃЊрЃўрЃџрЃљ: VAPID keys, PWA verification, basic UI toggle
- РюЁ рЃАрЃљрЃдрЃљрЃЏрЃЮ: Database function + Webhook configuration

**рЃЊрЃдрЃћ 2**:
- РюЁ рЃЊрЃўрЃџрЃљ: Edge Function implementation
- РюЁ рЃАрЃљрЃдрЃљрЃЏрЃЮ: iOS testing рЃЊрЃљ bug fixes

**рЃЊрЃдрЃћ 3**:
- РюЁ рЃЊрЃўрЃџрЃљ: Android testing, edge cases
- РюЁ рЃАрЃљрЃдрЃљрЃЏрЃЮ: Documentation, deployment

### Full Implementation (5 рЃЊрЃдрЃћ):

**рЃЊрЃдрЃћ 1**: рЃцрЃљрЃќрЃљ 1 - рЃАрЃљрЃцрЃБрЃФрЃЋрЃћрЃџрЃў
**рЃЊрЃдрЃћ 2**: рЃцрЃљрЃќрЃљ 2 - UI рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃћрЃЉрЃў
**рЃЊрЃдрЃћ 3**: рЃцрЃљрЃќрЃљ 3 (рЃюрЃљрЃгрЃўрЃџрЃў 1) - Database functions
**рЃЊрЃдрЃћ 4**: рЃцрЃљрЃќрЃљ 3 (рЃюрЃљрЃгрЃўрЃџрЃў 2) - Edge Functions
**рЃЊрЃдрЃћ 5**: рЃцрЃљрЃќрЃљ 4 - рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ

---

## рЃбрЃћрЃЦрЃюрЃўрЃЎрЃБрЃарЃў рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃўрЃџрЃћрЃЉрЃћрЃЉрЃў

### 1. Database Trigger vs Webhook?
**рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ**: РюЁ **Supabase Database Webhook**

**рЃарЃљрЃбрЃЮрЃЏ**:
- рЃЏрЃљрЃарЃбрЃўрЃЋрЃљрЃЊ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃўрЃарЃЊрЃћрЃЉрЃљ Dashboard-рЃерЃў
- рЃљрЃа рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃА extension-рЃћрЃЉрЃА
- Supabase-рЃўрЃА рЃЏрЃўрЃћрЃа рЃЏрЃ«рЃљрЃарЃЊрЃљрЃГрЃћрЃарЃўрЃџрЃў
- рЃЎрЃљрЃарЃњрЃў logging/monitoring

### 2. Notification Content?
**рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ**: РюЁ **Truncated Preview (100 chars)**

**Format**:
- Regular: "рЃАрЃљрЃ«рЃћрЃџрЃў: рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃўрЃА рЃбрЃћрЃЦрЃАрЃбрЃў..."
- Staff: "рЃАрЃљрЃ«рЃћрЃџрЃў (Staff): рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ..."
- Privacy Mode (Optional): "New message from рЃАрЃљрЃ«рЃћрЃџрЃў"

### 3. Multi-Device?
**рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ**: РюЁ **рЃДрЃЋрЃћрЃџрЃљ Device-рЃќрЃћ рЃњрЃљрЃўрЃњрЃќрЃљрЃЋрЃюрЃЮрЃА**

**рЃарЃљрЃбрЃЮрЃЏ**:
- рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў рЃЏрЃўрЃўрЃдрЃћрЃЉрЃА рЃАрЃљрЃЊрЃљрЃф рЃљрЃа рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА
- рЃЏрЃљрЃарЃбрЃўрЃЋрЃў implementation
- Service Worker рЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃА рЃЌрЃБ tab рЃњрЃљрЃ«рЃАрЃюрЃўрЃџрЃўрЃљ (рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃљрЃўрЃфрЃўрЃџрЃћрЃЉрЃА duplicate)

---

## рЃарЃўрЃАрЃЎрЃћрЃЉрЃў рЃЊрЃљ рЃЏрЃљрЃЌрЃў рЃерЃћрЃЏрЃфрЃўрЃарЃћрЃЉрЃљ

### ­Ъћ┤ рЃЏрЃљрЃдрЃљрЃџрЃў рЃарЃўрЃАрЃЎрЃў:

**1. iOS PWA Installation Issues**
- **рЃарЃўрЃАрЃЎрЃў**: рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃў рЃљрЃа рЃўрЃфрЃўрЃљрЃю рЃарЃЮрЃЏ PWA рЃБрЃюрЃЊрЃљ рЃЊрЃљрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃЮрЃю
- **рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ**:
  - рЃюрЃљрЃЌрЃћрЃџрЃў рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃў app-рЃерЃў
  - Standalone mode-рЃўрЃА рЃЊрЃћрЃбрЃћрЃЦрЃфрЃўрЃљ
  - рЃЏрЃћрЃњрЃЮрЃЉрЃарЃБрЃџрЃў error messages
- **Fallback**: In-app realtime notifications (рЃБрЃЎрЃЋрЃћ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА)

**2. Permission Denial**
- **рЃарЃўрЃАрЃЎрЃў**: рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў рЃБрЃљрЃарЃДрЃЮрЃцрЃА рЃЊрЃљ рЃљрЃа рЃўрЃфрЃўрЃА рЃарЃЮрЃњрЃЮрЃа рЃЕрЃљрЃарЃЌрЃЮрЃА
- **рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ**:
  - рЃљрЃЋрЃ«рЃАрЃюрЃљрЃЌ benefits permission-рЃўрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃљрЃЏрЃЊрЃћ
  - рЃџрЃўрЃюрЃЎрЃў Settings-рЃќрЃћ
  - Graceful degradation
- **Fallback**: In-app notifications only

### ­ЪЪА рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃарЃўрЃАрЃЎрЃў:

**3. Service Worker Caching**
- **рЃарЃўрЃАрЃЎрЃў**: рЃФрЃЋрЃћрЃџрЃў service worker рЃўрЃгрЃЋрЃћрЃЋрЃА bugs
- **рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ**: Versioning, force update, skipWaiting

**4. Database Performance**
- **рЃарЃўрЃАрЃЎрЃў**: рЃЉрЃћрЃЋрЃарЃў рЃгрЃћрЃЋрЃарЃўрЃА chat-рЃерЃў рЃюрЃћрЃџрЃљ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА
- **рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ**: Indexes, optimization, caching

---

## рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃўрЃА Checklist

### рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃБрЃарЃў:
- [ ] iOS 16.4+ - push subscription рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА
- [ ] Android Chrome - push subscription рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА
- [ ] Notification рЃЕрЃюрЃЊрЃћрЃЉрЃљ lock screen-рЃќрЃћ
- [ ] Click рЃ«рЃАрЃюрЃўрЃА рЃАрЃгрЃЮрЃа chat-рЃА
- [ ] Staff-only рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃАрЃгрЃЮрЃарЃљрЃЊ
- [ ] Sender-рЃА рЃљрЃа рЃЏрЃЮрЃЊрЃўрЃА рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў notification
- [ ] Multiple devices рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА
- [ ] Permission denied gracefully handled

### Performance:
- [ ] Message latency < 5 рЃгрЃљрЃЏрЃў
- [ ] Database function < 100ms
- [ ] Edge Function < 1 рЃгрЃљрЃЏрЃў
- [ ] Delivery success rate > 95%

### Security:
- [ ] VAPID keys рЃљрЃа рЃљрЃарЃўрЃА рЃњрЃљрЃЏрЃЪрЃдрЃљрЃЋрЃюрЃћрЃЉрЃБрЃџрЃў
- [ ] RLS policies рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃАрЃгрЃЮрЃарЃљрЃЊ
- [ ] Staff-only messages protected
- [ ] Service role key рЃљрЃа рЃљрЃарЃўрЃА exposed

---

## рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃА рЃЏрЃћрЃбрЃарЃўрЃЎрЃћрЃЉрЃў

### Launch Criteria (MVP):
- [ ] 90% iOS 16.4+ users рЃерЃћрЃБрЃФрЃџрЃўрЃљ enable
- [ ] 95% Android users рЃерЃћрЃБрЃФрЃџрЃўрЃљ enable
- [ ] Delivery rate > 90%
- [ ] Average latency < 5 рЃгрЃљрЃЏрЃў
- [ ] Zero critical bugs
- [ ] Documentation рЃАрЃарЃБрЃџрЃўрЃљ

### Post-Launch:
- **Adoption Rate**: 60% enable-рЃА рЃърЃўрЃарЃЋрЃћрЃџ рЃЌрЃЋрЃћрЃерЃў
- **Delivery Rate**: >95% рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌ рЃЏрЃўрЃгрЃЮрЃЊрЃћрЃЉрЃљ
- **Click Rate**: >40% click-рЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА
- **Opt-Out Rate**: <10% disable-рЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА

---

## рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃў

**рЃцрЃљрЃўрЃџрЃћрЃЉрЃў**:
- `/home/bekolozi/Desktop/duality-comms/PWA_NOTIFICATIONS.md` - рЃбрЃћрЃЦрЃюрЃўрЃЎрЃБрЃарЃў рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ
- `/home/bekolozi/Desktop/duality-comms/PWA-PUSH-NOTIFICATIONS-PROJECT-PLAN.md` - рЃЊрЃћрЃбрЃљрЃџрЃБрЃарЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃњрЃћрЃњрЃЏрЃљ (рЃўрЃюрЃњрЃџрЃўрЃАрЃБрЃарЃљрЃЊ)

**Documentation**:
- Supabase: https://supabase.com/docs
- Web Push API: https://www.w3.org/TR/push-api/
- iOS PWA: https://webkit.org/blog/13878/web-push-for-web-apps-on-ios-and-ipados/

---

**рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃўрЃА рЃЋрЃћрЃарЃАрЃўрЃљ**: 1.0
**рЃЉрЃЮрЃџрЃЮ рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃљ**: 2025-10-29
**рЃАрЃбрЃљрЃбрЃБрЃАрЃў**: рЃЏрЃќрЃљрЃЊрЃљрЃљ рЃЊрЃљрЃАрЃљрЃюрЃћрЃарЃњрЃљрЃЊ
